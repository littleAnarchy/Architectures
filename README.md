# ะะพััะฒะฝัะฝะฝั ะฐััััะตะบััั ASP.NET Core Web API

ะฆะตะน ัะตะฟะพะทะธัะพััะน ะผัััะธัั ััะธ ััะทะฝั ัะตะฐะปัะทะฐััั ะพะดะฝะพะณะพ ะน ัะพะณะพ ะถ ััะฝะบััะพะฝะฐะปั (ัะฟัะฐะฒะปัะฝะฝั ะฟัะพะดัะบัะฐะผะธ) ะท ะฒะธะบะพัะธััะฐะฝะฝัะผ ััะทะฝะธั ะฐััััะตะบัััะฝะธั ะฟะฐัะตัะฝัะฒ.

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบััะฒ

### 1. [3-Layer Architecture](./3-Layer-Architecture/) - ะขัะธััะฒะฝะตะฒะฐ ะฐััััะตะบัััะฐ
ะะฐะนะฟัะพััััะฐ ัะฐ ะฝะฐะนะฟะพัะธัะตะฝััะฐ ะฐััััะตะบัััะฐ ะดะปั ะฝะตะฒะตะปะธะบะธั ัะฐ ัะตัะตะดะฝัั ะฟัะพะตะบััะฒ.

### 2. [Clean Architecture](./Clean-Architecture/) - ะงะธััะฐ ะฐััััะตะบัััะฐ
ะััััะตะบัััะฐ ะฒัะด Uncle Bob ะท ะฐะบัะตะฝัะพะผ ะฝะฐ ะฝะตะทะฐะปะตะถะฝะพััั ะฑัะทะฝะตั-ะปะพะณัะบะธ ะฒัะด ะทะพะฒะฝััะฝัั ะดะตัะฐะปะตะน.

### 3. [Onion Architecture](./Onion-Architecture/) - ะฆะธะฑัะปะธะฝะฝะฐ ะฐััััะตะบัััะฐ
ะััััะตะบัััะฐ ะท ะบะพะฝัะตะฝััะธัะฝะธะผะธ ัะฐัะฐะผะธ ัะฐ ัะฒะฝะธะผ ะฒะธะดัะปะตะฝะฝัะผ Domain Services.

---

## ๐ ะะพััะฒะฝัะปัะฝะฐ ัะฐะฑะปะธัั

| ะฅะฐัะฐะบัะตัะธััะธะบะฐ | 3-Layer | Clean | Onion |
|---------------|---------|-------|-------|
| **ะกะบะปะฐะดะฝัััั** | โญ ะัะพััะฐ | โญโญโญ ะกะบะปะฐะดะฝะฐ | โญโญโญโญ ะัะถะต ัะบะปะฐะดะฝะฐ |
| **ะจะฒะธะดะบัััั ัะพะทัะพะฑะบะธ** | โกโกโก ะจะฒะธะดะบะฐ | โกโก ะกะตัะตะดะฝั | โก ะะพะฒัะปัะฝะฐ |
| **ะขะตััะพะฒะฐะฝัััั** | โ๏ธ ะกะตัะตะดะฝั | โ ะะธัะพะบะฐ | โ ะัะถะต ะฒะธัะพะบะฐ |
| **ะะฐะปะตะถะฝะพััั ะฒัะด ะะ** | โ ะกะธะปัะฝะฐ | โ ะกะปะฐะฑะบะฐ | โ ะัะดัััะฝั |
| **Domain ะฒ ัะตะฝััั** | โ ะั | โ ะขะฐะบ | โ ะขะฐะบ |
| **ะัะปัะบัััั ัะฐััะฒ** | 3 | 4 | 4-5 |
| **Boilerplate ะบะพะด** | ะัะฝัะผัะผ | ะกะตัะตะดะฝัะพ | ะะฐะณะฐัะพ |
| **ะัะดัะพะดะธัั ะดะปั DDD** | โ ะั | โ๏ธ ะงะฐััะบะพะฒะพ | โ ะขะฐะบ |

---

## ๐ ะะตัะฐะปัะฝะต ะฟะพััะฒะฝัะฝะฝั

### ะะพััะบ ะทะฐะปะตะถะฝะพััะตะน

#### 3-Layer Architecture
```
โโโโโโโโโโโโโโโโ
โ Controllers  โ (Presentation)
โโโโโโโโฌโโโโโโโโ
       โ
โโโโโโโโผโโโโโโโโ
โ   Services   โ (Business Logic)
โโโโโโโโฌโโโโโโโโ
       โ
โโโโโโโโผโโโโโโโโ
โ Repositories โ (Data Access)
โโโโโโโโฌโโโโโโโโ
       โ
    [Database]
```
**ะัะพะฑะปะตะผะฐ**: ะะ ะฒ ัะตะฝััั ัะฒะฐะณะธ, ะฒะฐะถะบะพ ะทะผัะฝะธัะธ

---

#### Clean Architecture
```
โโโโโโโโโโโโโโโโโโโโโ
โ       API         โ (Presentation)
โโโโโโโโโโโฌโโโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโโโโ
โ  Infrastructure    โ (Implementations)
โโโโโโโโโโโฌโโโโโโโโโโโ
          โ (ะทะฐะปะตะถะธัั ะฒัะด ัะฝัะตััะตะนััะฒ)
          โ
โโโโโโโโโโโโโโโโโโโโโโโ
โ    Application      โ (Use Cases, Interfaces)
โโโโโโโโโโโฌโโโโโโโโโโโโ
          โ
โโโโโโโโโโโผโโโโโโโโโโโโ
โ      Domain         โ (Entities) - ะฆะะะขะ
โโโโโโโโโโโโโโโโโโโโโโโ
          โ
    (ะฝะต ะทะฐะปะตะถะธัั ะฝั ะฒัะด ัะพะณะพ)
```
**ะะตัะตะฒะฐะณะฐ**: Domain ะฟะพะฒะฝัััั ัะทะพะปัะพะฒะฐะฝะธะน, Use Cases ัะบ ะฟะตััะพะบะปะฐัะฝั ะณัะพะผะฐะดัะฝะธ

---

#### Onion Architecture
```
        โโโโโโโโโโโโโโโโโโโโโโโโ
        โ         API          โ Ring 5
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ   Infrastructure     โ Ring 4
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ Application Services โ Ring 3
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ   Domain Services    โ Ring 2
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ    Domain Model      โ Ring 1 - ะฏะะะ
        โโโโโโโโโโโโโโโโโโโโโโโโ
```
**ะะตัะตะฒะฐะณะฐ**: ะฏะฒะฝะต ะฒะธะดัะปะตะฝะฝั Domain Services, ัะดะตะฐะปัะฝะพ ะดะปั DDD

---

## ๐ฏ ะะต ะทะฝะฐัะพะดะธัััั Repository Interface?

| ะััััะตะบัััะฐ | ะัััะต ัะพะทัะฐััะฒะฐะฝะฝั | ะงะพะผั? |
|-------------|-------------------|-------|
| **3-Layer** | Data Access Layer | ะะฐะทะพะผ ะท ัะตะฐะปัะทะฐัััั |
| **Clean** | Application Layer | ะะฝะฒะตัััั ะทะฐะปะตะถะฝะพััะตะน |
| **Onion** | Domain Layer | Domain ะฒะธะทะฝะฐัะฐั ะบะพะฝััะฐะบัะธ |

---

## ๐ก ะะพะปะธ ัะพ ะฒะธะบะพัะธััะพะฒัะฒะฐัะธ?

### ะะธะบะพัะธััะพะฒัะนัะต **3-Layer**, ัะบัะพ:
- โ ะัะพััะธะน CRUD ะดะพะดะฐัะพะบ
- โ ะะฐะปะธะน ะฟัะพะตะบั ะฐะฑะพ ะฟัะพัะพัะธะฟ
- โ ะะฑะผะตะถะตะฝะธะน ัะฐั ัะพะทัะพะฑะบะธ
- โ ะะพะผะฐะฝะดะฐ ะฝะต ะทะฝะฐะนะพะผะฐ ะท DDD
- โ ะะตะผะฐั ัะบะปะฐะดะฝะพั ะฑัะทะฝะตั-ะปะพะณัะบะธ

**ะัะธะบะปะฐะดะธ**: ะะฝัััััะฝั ัะฝััััะผะตะฝัะธ, admin ะฟะฐะฝะตะปั, ะฟัะพััั API

---

### ะะธะบะพัะธััะพะฒัะนัะต **Clean Architecture**, ัะบัะพ:
- โ ะกะตัะตะดะฝัะน ะฐะฑะพ ะฒะตะปะธะบะธะน ะฟัะพะตะบั
- โ ะะพัััะฑะฝะฐ ะฒะธัะพะบะฐ ัะตััะพะฒะฐะฝัััั
- โ ะัะทะฝะตั-ะปะพะณัะบะฐ ะผะพะถะต ะทะผัะฝัะฒะฐัะธัั
- โ ะฅะพัะตัะต ะฝะตะทะฐะปะตะถะฝัััั ะฒัะด frameworks
- โ ะัะพะตะบั ะฑัะดะต ะฟัะดััะธะผัะฒะฐัะธัั ะดะพะฒะณะพ

**ะัะธะบะปะฐะดะธ**: E-commerce, CRM ัะธััะตะผะธ, SaaS ะดะพะดะฐัะบะธ

---

### ะะธะบะพัะธััะพะฒัะนัะต **Onion Architecture**, ัะบัะพ:
- โ ะัะถะต ัะบะปะฐะดะฝะฐ ะฑัะทะฝะตั-ะปะพะณัะบะฐ
- โ ะะพะผะฐะฝะดะฐ ะฟัะฐะบัะธะบัั DDD
- โ ะะพัััะฑะฝะพ ัััะบะต ัะพะทะดัะปะตะฝะฝั Domain Services
- โ Enterprise ะฟัะพะตะบั ะท ะฑะฐะณะฐััะผะฐ ัะพะทัะพะฑะฝะธะบะฐะผะธ
- โ Domain ั ะบะปััะพะฒะพั ััะฝะฝัััั ะฑัะทะฝะตัั

**ะัะธะบะปะฐะดะธ**: ะะฐะฝะบัะฒััะบั ัะธััะตะผะธ, ERP, ัะบะปะฐะดะฝั ััะฝะฐะฝัะพะฒั ะดะพะดะฐัะบะธ

---

## ๐ ะะปััะพะฒั ะบะพะฝัะตะฟััั

### ะะฝะฒะตัััั ะทะฐะปะตะถะฝะพััะตะน (Dependency Inversion)

**3-Layer** (ะฑะตะท ัะฝะฒะตัััั):
```csharp
// Business Layer ะทะฐะปะตะถะธัั ะฒัะด ะบะพะฝะบัะตัะฝะพั ัะตะฐะปัะทะฐััั
public class ProductService
{
    private readonly ProductRepository _repo; // ะบะพะฝะบัะตัะฝะธะน ะบะปะฐั!
}
```

**Clean/Onion** (ะท ัะฝะฒะตััััั):
```csharp
// Application/Domain ะฒะธะทะฝะฐัะฐั ัะฝัะตััะตะนั
public interface IProductRepository { }

// Infrastructure ัะตะฐะปัะทัั
public class ProductRepository : IProductRepository { }

// Application ะฒะธะบะพัะธััะพะฒัั ัะฝัะตััะตะนั
public class ProductService
{
    private readonly IProductRepository _repo; // ะฐะฑัััะฐะบััั!
}
```

---

### Domain Logic ัะพะทะผััะตะฝะฝั

**3-Layer**:
```csharp
// ะัะทะฝะตั-ะปะพะณัะบะฐ ะฒ ServiceLayer
public class ProductService
{
    public async Task<Product> CreateProduct(Product product)
    {
        if (product.Price <= 0) 
            throw new Exception("Price must be positive");
        // ...
    }
}
```

**Clean/Onion**:
```csharp
// ะัะทะฝะตั-ะปะพะณัะบะฐ ะฒ Domain Entity
public class Product
{
    private decimal _price;
    
    public void SetPrice(decimal price)
    {
        if (price <= 0) 
            throw new Exception("Price must be positive");
        _price = price;
    }
}
```

---

## ๐ ะะฒะพะปัััั ะฐััััะตะบัััะธ

```
3-Layer โ Clean โ Onion
  |         |       |
ะัะพััะพัะฐ  ะะฐะปะฐะฝั  ะกะบะปะฐะดะฝัััั
ะจะฒะธะดะบะพ    ะฏะบัััั  ะงะธััะพัะฐ
```

ะะฐะณะฐัะพ ะฟัะพะตะบััะฒ ะฟะพัะธะฝะฐััั ะท **3-Layer**, ะฟะตัะตัะพะดััั ะดะพ **Clean** ะฟัะธ ะทัะพััะฐะฝะฝั, ัะฐ ััะดะบะพ ะนะดััั ะดะพ **Onion** (ััะปัะบะธ ะดะปั ะดัะถะต ัะบะปะฐะดะฝะธั ะดะพะผะตะฝัะฒ).

---

## ๐งช ะฏะบ ะทะฐะฟัััะธัะธ ะฟัะพะตะบัะธ

### 1. 3-Layer Architecture
```bash
cd 3-Layer-Architecture
dotnet restore
dotnet run
```

### 2. Clean Architecture
```bash
cd Clean-Architecture/CleanArchitecture.API
dotnet restore
dotnet run
```

### 3. Onion Architecture
```bash
cd Onion-Architecture/OnionArchitecture.API
dotnet restore
dotnet run
```

ะฃัั ะฟัะพะตะบัะธ ะดะพัััะฟะฝั ะทะฐ ะฐะดัะตัะพั: `https://localhost:5001/swagger`

---

## ๐ ะฉะพ ะฒะธะฒัะธัะธ ะดะฐะปั?

1. **CQRS** (Command Query Responsibility Segregation) - ัะพะทะดัะปะตะฝะฝั ัะธัะฐะฝะฝั ัะฐ ะทะฐะฟะธัั
2. **Event Sourcing** - ะทะฑะตััะณะฐะฝะฝั ะฟะพะดัะน ะทะฐะผัััั ััะฐะฝั
3. **Domain-Driven Design (DDD)** - ะฟัะดััะด ะดะพ ะผะพะดะตะปัะฒะฐะฝะฝั ัะบะปะฐะดะฝะธั ะดะพะผะตะฝัะฒ
4. **Microservices** - ัะพะทะฑะธััั ะฝะฐ ะฝะตะทะฐะปะตะถะฝั ัะตัะฒััะธ
5. **Vertical Slice Architecture** - ะฐะปััะตัะฝะฐัะธะฒะฝะธะน ะฟัะดััะด ะดะพ ะพัะณะฐะฝัะทะฐััั ะบะพะดั

---

## ๐ ะะพัะธัะฝั ัะตััััะธ

### ะะฝะธะณะธ
- **"Clean Architecture"** - Robert C. Martin
- **"Domain-Driven Design"** - Eric Evans
- **"Implementing Domain-Driven Design"** - Vaughn Vernon

### ะกัะฐััั
- [The Onion Architecture](https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/) - Jeffrey Palermo
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html) - Uncle Bob

---

## โ ะะธัะฝะพะฒะบะธ

| ะฏะบัะพ ะฒะฐะผ ะฟะพัััะฑะฝะพ... | ะะธะบะพัะธััะพะฒัะนัะต |
|---------------------|----------------|
| ะจะฒะธะดะบะพ ะทัะพะฑะธัะธ MVP | 3-Layer |
| ะะฐะปะฐะฝั ะผัะถ ะฟัะพััะพัะพั ัะฐ ัะบัััั | Clean |
| ะะฐะบัะธะผะฐะปัะฝะฐ ัะธััะพัะฐ ะบะพะดั | Onion |
| ะัะพััะธะน CRUD | 3-Layer |
| ะะพะฒะณะพัััะพะบะพะฒะธะน ะฟัะพะตะบั | Clean ะฐะฑะพ Onion |
| DDD ะฟัะดััะด | Onion |

**ะะพะปะพัะต ะฟัะฐะฒะธะปะพ**: ะะพัะฝััั ะท ะฝะฐะนะฟัะพััััะพะณะพ ัััะตะฝะฝั, ัะพ ะฒะธััััั ะฒะฐัั ะทะฐะดะฐัั. ะฃัะบะปะฐะดะฝัะนัะต ััะปัะบะธ ะบะพะปะธ ัะต ะดัะนัะฝะพ ะฟะพัััะฑะฝะพ.

---

## ๐ค ะะพัะฐะดะธ

1. **ะะต over-engineer**: ะะต ะฒะธะบะพัะธััะพะฒัะนัะต Onion ะดะปั TODO ัะฟะธัะบั
2. **ะัะผะฐะนัะต ะฟัะพ ะผะฐะนะฑััะฝั**: ะฏะบัะพ ะฟัะพะตะบั ะฑัะดะต ัะพััะธ, ะบัะฐัะต ะพะดัะฐะทั Clean
3. **ะะพะผะฐะฝะดะฐ ะฒะฐะถะปะธะฒะฐ**: ะกะบะปะฐะดะฝั ะฐััััะตะบัััะธ ะฟะพััะตะฑัััั ะดะพัะฒัะดัะตะฝะพั ะบะพะผะฐะฝะดะธ
4. **ะขะตัััะนัะต**: ะัั ััะธ ะฐััััะตะบัััะธ ะผะพะถะฝะฐ ัะตัััะฒะฐัะธ, ะฐะปะต Clean/Onion - ะบัะฐัะต
5. **ะะพะบัะผะตะฝััะนัะต**: ะัะพะฑะปะธะฒะพ ะฒะฐะถะปะธะฒะพ ะดะปั Clean/Onion

ะฃะดะฐัั ั ะฒะธะฑะพัั ะฟัะฐะฒะธะปัะฝะพั ะฐััััะตะบัััะธ! ๐
