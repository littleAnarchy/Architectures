# –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä ASP.NET Core Web API

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –∫—ñ–ª—å–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ –∂ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É (—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏), —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Ä—ñ–∑–Ω–∏–º–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–º–∏ –ø—ñ–¥—Ö–æ–¥–∞–º–∏ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ –Ω–∞–≤—á–∞–Ω–Ω—è.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—ñ–≤

### 1. [3-Layer Architecture](./3-Layer-Architecture/) - –¢—Ä–∏—Ä—ñ–≤–Ω–µ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ —Ç–∞ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö —Ç–∞ —Å–µ—Ä–µ–¥–Ω—ñ—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤.

### 2. [Clean Architecture](./Clean-Architecture/) - –ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤—ñ–¥ Uncle Bob –∑ –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –¥–µ—Ç–∞–ª–µ–π.

### 3. [Onion Architecture](./Onion-Architecture/) - –¶–∏–±—É–ª–∏–Ω–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∏–º–∏ —à–∞—Ä–∞–º–∏ —Ç–∞ —è–≤–Ω–∏–º –≤–∏–¥—ñ–ª–µ–Ω–Ω—è–º Domain Services.

### 4. [Hexagonal Architecture](./Hexagonal-Architecture/) - Ports & Adapters
–ö–æ–Ω—Ü–µ–Ω—Ç—Ä—É—î –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –≤ —è–¥—Ä—ñ —ñ –≤—ñ–¥–æ–∫—Ä–µ–º–ª—é—î I/O —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∏ —Ç–∞ –∞–¥–∞–ø—Ç–µ—Ä–∏ (InMemory, EF, API clients).

### 5. [Vertical Slice Architecture](./Vertical-Slice/) - Vertical Slice
–û—Ä–≥–∞–Ω—ñ–∑—É—î –∫–æ–¥ –ø–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö (features) ‚Äî –º–µ–Ω—à–µ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, handlers/DTO –ø–æ—Ä—É—á –∑—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—î–º.

---

## üîç –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | 3-Layer | Clean | Onion | Hexagonal | Vertical Slice |
|---------------|---------|-------|-------|-----------|----------------|
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** | ‚≠ê –ü—Ä–æ—Å—Ç–∞ | ‚≠ê‚≠ê‚≠ê –°–µ—Ä–µ–¥–Ω—è | ‚≠ê‚≠ê‚≠ê‚≠ê –í–∏—Å–æ–∫–∞ | ‚≠ê‚≠ê‚≠ê –°–µ—Ä–µ–¥–Ω—è-–≤–∏—Å–æ–∫–∞ | ‚≠ê‚≠ê –°–µ—Ä–µ–¥–Ω—è |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ–∑—Ä–æ–±–∫–∏** | ‚ö°‚ö°‚ö° –®–≤–∏–¥–∫–∞ | ‚ö°‚ö° –°–µ—Ä–µ–¥–Ω—è | ‚ö° –ü–æ–≤—ñ–ª—å–Ω–∞ | ‚ö°‚ö° –°–µ—Ä–µ–¥–Ω—è | ‚ö°‚ö°‚ö° –®–≤–∏–¥–∫–∞ –¥–æ —Å–µ—Ä–µ–¥–Ω—å–æ—ó |
| **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å** | ‚ö†Ô∏è –°–µ—Ä–µ–¥–Ω—è | ‚úÖ –í–∏—Å–æ–∫–∞ | ‚úÖ –î—É–∂–µ –≤–∏—Å–æ–∫–∞ | ‚úÖ –í–∏—Å–æ–∫–∞ (—á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∏) | ‚úÖ –í–∏—Å–æ–∫–∞ (–ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å–ª–∞–π—Å–∏) |
| **–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –ë–î** | ‚ùå –°–∏–ª—å–Ω–∞ | ‚úÖ –°–ª–∞–±–∫–∞ | ‚úÖ –ù–∏–∑—å–∫–∞ | ‚úÖ –°–ª–∞–±–∫–∞ (—á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∏) | ‚úÖ –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó (–º–æ–∂–Ω–∞ —Å–ª–∞–±–∫–∞) |
| **Domain –≤ —Ü–µ–Ω—Ç—Ä—ñ** | ‚ùå –ù—ñ | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ (—è–¥—Ä–æ –∑ –ø–æ—Ä—Ç–∞–º–∏) | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ (–ø–æ-—Å–ª–∞–π—Å–∞–º) |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞—Ä—ñ–≤ / –ø—ñ–¥—Ö–æ–¥—ñ–≤** | 3 | 4 | 4-5 | 3-4 (—è–¥—Ä–æ + –∞–¥–∞–ø—Ç–µ—Ä–∏) | Feature-based (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ —Å–ª–∞–π—Å–∏) |
| **Boilerplate –∫–æ–¥** | –ú—ñ–Ω—ñ–º—É–º | –°–µ—Ä–µ–¥–Ω—å–æ | –ë–∞–≥–∞—Ç–æ | –°–µ—Ä–µ–¥–Ω—å–æ | –ú—ñ–Ω—ñ–º—É–º-—Å–µ—Ä–µ–¥–Ω—å–æ |
| **–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è DDD** | ‚ùå –ù—ñ | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ | ‚úÖ –¢–∞–∫ | ‚úÖ –¢–∞–∫ | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ (–º–æ–∂–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏)

---

### ‚ö†Ô∏è –ü—Ä–æ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: –≤–∞–∂–ª–∏–≤–∞ –ø–æ–∑–Ω–∞—á–∫–∞

**–†–µ–π—Ç–∏–Ω–≥–∏ –≤ —Ä—è–¥–∫—É "–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å" –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å —Ç–∏–ø–æ–≤—ñ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó, –∞ –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—ñ —Ñ–∞–∫—Ç–∏.**

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:
- **Clean** –∑ –±–∞–∑–æ–≤–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é (entity, handler, repository interface) = ‚≠ê‚≠ê‚≠ê
- **Clean + CQRS + MediatR** = ‚≠ê‚≠ê‚≠ê‚≠ê –∞–±–æ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–º–æ–∂–µ –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ—à–µ –∑–∞ Onion!)
- **Onion** –∑ —è–≤–Ω–∏–º–∏ Domain Services —ñ —á—ñ—Ç–∫–∏–º–∏ —à–∞—Ä–∞–º–∏ = ‚≠ê‚≠ê‚≠ê‚≠ê
- **Onion** –±–µ–∑ Domain Services, –ø—Ä–æ—Å—Ç–æ –≤–∫–ª–∞–¥–µ–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ = ‚≠ê‚≠ê‚≠ê

**–ß–æ–º—É —è –æ—Ü—ñ–Ω–∏–≤ –±–∞–∑–æ–≤–∏–π Onion —è–∫ —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –∑–∞ –±–∞–∑–æ–≤–∏–π Clean:**
1. **Clean** –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±—É—î: 1 Entity + 1 Handler + 1 Repository Interface
2. **Onion** –ø–æ—Ç—Ä–µ–±—É—î: Entity + Domain Services + Application Services + Repository Interface + —è–≤–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —à–∞—Ä—ñ–≤
3. **Boilerplate**: Onion –≥–µ–Ω–µ—Ä—É—î –±—ñ–ª—å—à–µ –±–æ–π–ª–µ—Ä–ø–ª–µ–π—Ç–∞ —á–µ—Ä–µ–∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞—Ä—ñ–≤ —Ç–∞ —è–≤–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è Domain Services
4. **–ö—Ä–∏–≤–∞ –Ω–∞–≤—á–∞–Ω–Ω—è**: Onion –≤–∞–∂—á–µ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –Ω–æ–≤–∞—á–∫–∞–º —á–µ—Ä–µ–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–ê–ª–µ —è–∫—â–æ –¥–æ–¥–∞—Ç–∏ CQRS + MediatR –¥–æ Clean, —Å–∏—Ç—É–∞—Ü—ñ—è –∑–º—ñ–Ω—é—î—Ç—å—Å—è. **–í–∏–±—ñ—Ä –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–ª—ñ–¥ –±–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø–æ—Ç—Ä–µ–±–∞—Ö –ø—Ä–æ–µ–∫—Ç—É, –∞ –Ω–µ –Ω–∞ —Ü—å–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É.**

---

## üìä –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

### –ü–æ—Ç—ñ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

#### 3-Layer Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Controllers  ‚îÇ (Presentation)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Services   ‚îÇ (Business Logic)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Repositories ‚îÇ (Data Access)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üì
    [Database]
```
**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–î –≤ —Ü–µ–Ω—Ç—Ä—ñ —É–≤–∞–≥–∏, –≤–∞–∂–∫–æ –∑–º—ñ–Ω–∏—Ç–∏

---

#### Clean Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       API         ‚îÇ (Presentation)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Infrastructure    ‚îÇ (Implementations)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤)
          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Application      ‚îÇ (Use Cases, Interfaces)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Domain         ‚îÇ (Entities) - –¶–ï–ù–¢–†
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚Üë
    (–Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –Ω—ñ –≤—ñ–¥ —á–æ–≥–æ)
```
**–ü–µ—Ä–µ–≤–∞–≥–∞**: Domain –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π, Use Cases —è–∫ –ø–µ—Ä—à–æ–∫–ª–∞—Å–Ω—ñ –≥—Ä–æ–º–∞–¥—è–Ω–∏

---

#### Onion Architecture
```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ         API          ‚îÇ Ring 5
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Infrastructure     ‚îÇ Ring 4
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ Application Services ‚îÇ Ring 3
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Domain Services    ‚îÇ Ring 2
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ    Domain Model      ‚îÇ Ring 1 - –Ø–î–†–û
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**–ü–µ—Ä–µ–≤–∞–≥–∞**: –Ø–≤–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è Domain Services, —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è DDD

---

#### Hexagonal Architecture
```
[External Adapters (UI, API, DB)]
        ‚Üï
    [Ports / Interfaces]
        ‚Üï
    [Domain Core (Business Logic)]
```
–ü–æ—Ä—Ç–∏ (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏) –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –ø–æ—Ä—É—á —ñ–∑ —è–¥—Ä–æ–º; –∞–¥–∞–ø—Ç–µ—Ä–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –ø–æ—Ä—Ç–∏. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —Å–∏–ª—å–Ω—É —ñ–∑–æ–ª—è—Ü—ñ—é —è–¥—Ä–∞ –≤—ñ–¥ I/O.

#### Vertical Slice
```
[Controller] -> [Feature Handler / Use Case] -> [Feature Repository / Domain]
```
–ö–æ–∂–µ–Ω ¬´—Å–ª–∞–π—Å¬ª –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω–∏–π —Å—Ç–µ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é (DTO, Handler, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö). –¶–µ –ª–æ–∫–∞–ª—ñ–∑—É—î –∑–º—ñ–Ω–∏ –π –∑–º–µ–Ω—à—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —Ñ–∏—á–∞–º–∏.


## üéØ –î–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è Repository Interface?

| –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ | –ú—ñ—Å—Ü–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è | –ß–æ–º—É? |
|-------------|-------------------|-------|
| **3-Layer** | Data Access Layer | –†–∞–∑–æ–º –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é |
| **Clean** | Application Layer | –Ü–Ω–≤–µ—Ä—Å—ñ—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (Application –≤–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏)
| **Onion** | Domain Layer | Domain –≤–∏–∑–Ω–∞—á–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –≤ —è–¥—Ä—ñ)
| **Hexagonal** | Ports (—è–¥—Ä–æ) | –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ (–ø–æ—Ä—Ç–∏) —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –ø–æ—Ä—É—á —ñ–∑ Domain; –∞–¥–∞–ø—Ç–µ—Ä–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —ó—Ö
| **Vertical Slice** | Feature / Application | –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Å–ª–∞–π—Å—ñ –∞–±–æ —É —Å–ø—ñ–ª—å–Ω–æ–º—É Application/Kernel ‚Äî –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó

---

## üí° –ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **3-Layer**, —è–∫—â–æ:
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π CRUD –¥–æ–¥–∞—Ç–æ–∫
- ‚úÖ –ú–∞–ª–∏–π –ø—Ä–æ–µ–∫—Ç –∞–±–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø
- ‚úÖ –û–±–º–µ–∂–µ–Ω–∏–π —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –∑–Ω–∞–π–æ–º–∞ –∑ DDD
- ‚úÖ –ù–µ–º–∞—î —Å–∫–ª–∞–¥–Ω–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏

**–ü—Ä–∏–∫–ª–∞–¥–∏**: –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, admin –ø–∞–Ω–µ–ª—ñ, –ø—Ä–æ—Å—Ç—ñ API

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Clean Architecture**, —è–∫—â–æ:
- ‚úÖ –°–µ—Ä–µ–¥–Ω—ñ–π –∞–±–æ –≤–µ–ª–∏–∫–∏–π –ø—Ä–æ–µ–∫—Ç
- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—Å–æ–∫–∞ —Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å
- ‚úÖ –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è
- ‚úÖ –•–æ—á–µ—Ç–µ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ frameworks
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –¥–æ–≤–≥–æ

**–ü—Ä–∏–∫–ª–∞–¥–∏**: E-commerce, CRM —Å–∏—Å—Ç–µ–º–∏, SaaS –¥–æ–¥–∞—Ç–∫–∏

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Onion Architecture**, —è–∫—â–æ:
- ‚úÖ –î—É–∂–µ —Å–∫–ª–∞–¥–Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∞–∫—Ç–∏–∫—É—î DDD
- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–æ —á—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è Domain Services
- ‚úÖ Enterprise –ø—Ä–æ–µ–∫—Ç –∑ –±–∞–≥–∞—Ç—å–º–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º–∏
- ‚úÖ Domain —î –∫–ª—é—á–æ–≤–æ—é —Ü—ñ–Ω–Ω—ñ—Å—Ç—é –±—ñ–∑–Ω–µ—Å—É

**–ü—Ä–∏–∫–ª–∞–¥–∏**: –ë–∞–Ω–∫—ñ–≤—Å—å–∫—ñ —Å–∏—Å—Ç–µ–º–∏, ERP, —Å–∫–ª–∞–¥–Ω—ñ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –¥–æ–¥–∞—Ç–∫–∏

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Hexagonal Architecture**, —è–∫—â–æ:
- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏–ª—å–Ω–∞ —ñ–∑–æ–ª—è—Ü—ñ—è Domain –≤—ñ–¥ I/O
- ‚úÖ –•–æ—á–µ—Ç–µ –ª–µ–≥–∫–æ –ø—ñ–¥–º—ñ–Ω—è—Ç–∏ –∞–¥–∞–ø—Ç–µ—Ä–∏ (DB, –∑–æ–≤–Ω—ñ—à–Ω—ñ API)
- ‚úÖ –ü–æ—Ç—Ä–µ–±—É—î—Ç–µ —á—ñ—Ç–∫–æ—ó –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –ø–æ—Ä—Ç—ñ–≤/–∞–¥–∞–ø—Ç–µ—Ä—ñ–≤

**–ü—Ä–∏–∫–ª–∞–¥–∏**: –°–∏—Å—Ç–µ–º–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è–º–∏, –¥–µ –≤–∞–∂–ª–∏–≤–∞ –∑–∞–º—ñ–Ω–Ω—ñ—Å—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ñ–≤.

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Vertical Slice Architecture**, —è–∫—â–æ:
- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—Å–æ–∫–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—ñ—á
- ‚úÖ –•–æ—á–µ—Ç–µ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —Ñ—ñ—á–∞–º–∏
- ‚úÖ –ù–∞–¥–∞—î—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–¥—É –ø–æ —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö (use-cases)

**–ü—Ä–∏–∫–ª–∞–¥–∏**: –ü—Ä–æ–¥—É–∫—Ç–∏ –∑ —á–∞—Å—Ç–∏–º–∏ feature-—Ä–µ–≤–∞–∫—Å–∞–º–∏, MVP, —à–≤–∏–¥–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—ñ–≤.

---

## üîë –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó

### 1. Dependency Rule (–ø—Ä–∞–≤–∏–ª–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π)

–¶–µ **—è–¥—Ä–æ Clean —Ç–∞ Onion** –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä, —Å—Ñ–æ—Ä–º—É–ª—å–æ–≤–∞–Ω–µ Robert C. Martin (Uncle Bob).

**–ü—Ä–∞–≤–∏–ª–æ**: –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —É –∫–æ–¥—ñ –º–∞—é—Ç—å —É–∫–∞–∑—É–≤–∞—Ç–∏ **–í–°–ï–†–ï–î–ò–ù–£** (–¥–æ —Ü–µ–Ω—Ç—Ä—É, –¥–µ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞), **–ù–Ü–ö–û–õ–ò** –∑–æ–≤–Ω—ñ.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Outer Rings (Frameworks, Databases, UI)  ‚îÇ
‚îÇ       ‚Üì –º–æ–∂–Ω–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —É—Å—å–æ–≥–æ          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Middle (Controllers, Gateways)      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ       ‚Üì –∑–∞–ª–µ–∂–∏—Ç—å                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  Core (Domain, Use Cases)        ‚îÇ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ‚Üë –∑–∞–ª–µ–∂–∏—Ç—å –Ω—ñ –≤—ñ–¥ —á–æ–≥–æ           ‚îÇ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –ü–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ (3-Layer –±–µ–∑ —ñ–Ω–≤–µ—Ä—Å—ñ—ó)

```csharp
// ‚ùå BAD: –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–¥–µ –ó–û–í–ù–Ü (–Ω–∞ Database)
public class ProductService
{
    private readonly ProductRepository _repo; // –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
    // –Ø–∫—â–æ –∑–º—ñ–Ω–∏—Ç–∏ –ë–î, –ø–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ–Ω—è—Ç–∏ Service
}
```

#### –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞ (Clean / Onion –∑ —ñ–Ω–≤–µ—Ä—Å—ñ—î—é)

```csharp
// ‚úÖ GOOD: –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–¥–µ –í–°–ï–†–ï–î–ò–ù–£ (–Ω–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É Application/Domain)
public class CreateProductUseCase
{
    private readonly IProductRepository _repo; // –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è, –∫–æ–Ω—Ç—Ä–∞–∫—Ç
}

// –î–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å?
// - Clean: —É Application Layer (Application –≤–∏–∑–Ω–∞—á–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç)
// - Onion: —É Domain Layer (Domain –≤–∏–∑–Ω–∞—á–∞—î, —â–æ –π–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–µ)
```

**–ö–ª—é—á–æ–≤–∏–π –º–æ–º–µ–Ω—Ç**: —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ "–¥–æ–¥–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å", –∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –∫–∞—Ä–∫–∞—Å —Ç–∞–∫, —â–æ–± –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –π—à–ª–∏ –≤ –æ–¥–∏–Ω –±—ñ–∫.

---

### 2. Domain Model: Rich vs Anemic (—Å–ø—ñ—Ä —É —Å–ø—ñ–ª—å–Ω–æ—Ç—ñ)

–¶–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è —É –ø—ñ–¥—Ö–æ–¥–∞—Ö –¥–æ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏. **–û–±–∏–¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤–∞–ª—ñ–¥–Ω—ñ**, –∞–ª–µ –º–∞—é—Ç—å –Ω–∞—Å–ª—ñ–¥–∫–∏.

#### –í–∞—Ä—ñ–∞–Ω—Ç A: Rich Domain Model 
*(Preferable —É Onion + DDD)*

```csharp
// Domain Entity –º—ñ—Å—Ç–∏—Ç—å –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –ª–æ–≥—ñ–∫—É
public class Product
{
    private decimal _price;
    
    public Product(string name, decimal price)
    {
        if (price <= 0)
            throw new InvalidOperationException("Price must be positive");
        Name = name;
        _price = price;
    }
    
    // ‚úÖ –ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ —É —Å–∞–º–æ—ó Entity
    public void IncreasePrice(decimal percentageIncrease)
    {
        if (percentageIncrease <= 0)
            throw new InvalidOperationException("Percentage must be positive");
        _price = _price * (1 + percentageIncrease / 100);
    }
    
    public void ApplyDiscount(decimal discountPercent)
    {
        if (discountPercent < 0 || discountPercent > 100)
            throw new InvalidOperationException("Invalid discount");
        _price = _price * (1 - discountPercent / 100);
    }
}

// Application Service –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≥–æ—Ç–æ–≤—É –ª–æ–≥—ñ–∫—É Entity
public class UpdateProductUseCase
{
    private readonly IProductRepository _repo;
    
    public void Execute(int productId, decimal percentageIncrease)
    {
        var product = _repo.GetById(productId);
        product.IncreasePrice(percentageIncrease); // ‚úÖ Entity —Å–∞–º –∑–Ω–∞—î –ø—Ä–∞–≤–∏–ª–æ
        _repo.Save(product);
    }
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏**:
- ‚úÖ –ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ **–∑–∞—Ö–∏—â–µ–Ω—ñ** (–Ω–µ–º–æ–∂–ª–∏–≤–æ –æ–±—ñ–π—Ç–∏)
- ‚úÖ Entity ‚Äî —Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–∞–≤–∏–ª
- ‚úÖ –õ–æ–≥—ñ–∫–∞ **–Ω–µ –¥—É–±–ª—é—î—Ç—å—Å—è** –≤ —Ä—ñ–∑–Ω–∏—Ö Use Cases
- ‚úÖ –õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ Entity –æ–∫—Ä–µ–º–æ

**–ù–µ–¥–æ–ª—ñ–∫–∏**:
- ‚ùå –ë—ñ–ª—å—à–µ –∫–æ–¥—É –≤ Entity, –º–æ–∂–µ —Å—Ç–∞—Ç–∏ "—Ç–æ–ª—Å—Ç–∏–º"
- ‚ùå ORM —É—Å–∫–ª–∞–¥–Ω—é—î: EF Core, Hibernate –ø–æ—Ç—Ä–µ–±—É—é—Ç—å getter/setter
- ‚ùå –ú–µ–Ω—à –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ –ø—Ä–∏ –∑–∞–ø–∏—Ç—É –¥–∞–Ω–∏—Ö (QuerySide —É CQRS)

---

#### –í–∞—Ä—ñ–∞–Ω—Ç B: Anemic Domain Model 
*(–ß–∞—Å—Ç–æ —É Clean Architecture –≤ –ø—Ä–∞–∫—Ç–∏—Ü—ñ)*

```csharp
// Domain Entity ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–∞–Ω–∏—Ö, –±–µ–∑ –ª–æ–≥—ñ–∫–∏ (Anemic)
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}

// –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–∞ –≤ Application Layer / Use Case
public class UpdateProductUseCase
{
    private readonly IProductRepository _repo;
    
    public void Execute(int productId, decimal percentageIncrease)
    {
        // ‚ö†Ô∏è –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç—É—Ç, –Ω–µ –≤ Entity
        if (percentageIncrease <= 0)
            throw new InvalidOperationException("Percentage must be positive");
        
        var product = _repo.GetById(productId);
        
        // ‚ö†Ô∏è –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç—É—Ç, –Ω–µ –≤ Entity
        product.Price = product.Price * (1 + percentageIncrease / 100);
        
        _repo.Save(product);
    }
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏**:
- ‚úÖ –ü—Ä–æ—Å—Ç—ñ Entity, –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç–∏ CRUD
- ‚úÖ –î–æ–±—Ä–µ –ø—Ä–∞—Ü—é—î –∑ ORM (EF, Dapper)
- ‚úÖ –õ–æ–≥—ñ–∫–∞ –æ–¥–Ω–æ–≥–æ Use Case —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –π –ª–µ–≥–∫–æ –º—ñ–Ω—è—î—Ç—å—Å—è
- ‚úÖ –ú–µ–Ω—à–µ "–º–∞–≥—ñ—ó" —É Domain Layer

**–ù–µ–¥–æ–ª—ñ–∫–∏**:
- ‚ùå –ü—Ä–∞–≤–∏–ª–∞ –º–æ–∂—É—Ç—å **–¥—É–±–ª—é–≤–∞—Ç–∏—Å—è** –≤ —Ä—ñ–∑–Ω–∏—Ö Use Cases (CreateProduct, UpdateProduct, ImportProducts)
- ‚ùå –ù–µ–º–∞ –æ–¥–Ω—ñ—î—ó **source of truth** –¥–ª—è –ø—Ä–∞–≤–∏–ª
- ‚ùå Entity –±–µ–∑ –ª–æ–≥—ñ–∫–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ DTO, –≤—Ç—Ä–∞—á–∞—î —Å–º–∏—Å–ª
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è –¥–µ —è–∫—ñ –ø—Ä–∞–≤–∏–ª–∞

---

**Clean Architecture –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ —É .NET —Å–≤—ñ—Ç—ñ:**
- –ß–∞—Å—Ç–æ –ø–æ—î–¥–Ω—É—î Anemic Domain Model –∑ –ª–æ–≥—ñ–∫–æ—é —É **Use Cases** (MediatR Handlers)
- –¢–∞–∫–æ–∂ –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Specification / Query Objects**
- –¶–µ –Ω–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤, —Ü–µ –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ

**Onion Architecture + DDD –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ:**
- –û–±–æ–≤'—è–∑–∫–æ–≤–æ Rich Domain Model
- Domain Services –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏
- Application Services —è–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∏

---

### 3. Repository Pattern: –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è –≤ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ

**Repository** ‚Äî —Ü–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö. –ô–æ–≥–æ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–∑—É—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É:

| –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ | –î–µ Repository Interface | –õ–æ–≥—ñ–∫–∞ | –©–æ —Ü–µ –≥–æ–≤–æ—Ä–∏—Ç—å |
|------------|------------------------|--------|-----------------|
| **3-Layer** | Data Access Layer | Repository —Ä–∞–∑–æ–º –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é (–≤–æ–Ω–∞ –∂ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞) | –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–¥–µ –ó–û–í–ù–Ü (–¥–æ DB) ‚Äî –ø–æ—Ä—É—à–µ–Ω–Ω—è |
| **Clean** | Application Layer | Application –≤–∏–∑–Ω–∞—á–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç, Infrastructure —Ä–µ–∞–ª—ñ–∑—É—î | –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–¥–µ –í–°–ï–†–ï–î–ò–ù–£ (Application) |
| **Onion** | Domain Layer | Domain –≤–∏–∑–Ω–∞—á–∞—î –ø–æ—Ç—Ä–µ–±—É, Infrastructure —Ä–µ–∞–ª—ñ–∑—É—î | –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –π–¥–µ –í–°–ï–†–ï–î–ò–ù–£ (Domain) |
| **Hexagonal** | Ports (—è–¥—Ä–æ) | Port –≤–∏–∑–Ω–∞—á–µ–Ω —É —è–¥—Ä—ñ, Adapter —Ä–µ–∞–ª—ñ–∑—É—î –∑–æ–≤–Ω—ñ | –ü–æ—Ä—Ç–∏ ‚Äî —Ü–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º—ñ–∂ —è–¥—Ä–æ–º —ñ –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏ |
| **Vertical Slice** | Feature / Domain | –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É —Å–ª–∞–π—Å—ñ –∞–±–æ —Å–ø—ñ–ª—å–Ω–æ–º—É Kernel | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó (–º–æ–∂–µ –±—É—Ç–∏ —è–∫ Clean, —Ç–∞–∫ —ñ Onion) |

**–ü—Ä–∏–∫–ª–∞–¥ Clean**:
```csharp
// Features/Products/Application/Interfaces/
public interface IProductRepository
{
    Task<Product> GetById(int id);
    Task Save(Product product);
}

// Features/Products/Infrastructure/
public class EFCoreProductRepository : IProductRepository { ... }

// Features/Products/Application/UseCases/
public class CreateProductUseCase // –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –Ω–µ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
{
    private readonly IProductRepository _repo;
}
```

**–ü—Ä–∏–∫–ª–∞–¥ Onion**:
```csharp
// Domain/
public interface IProductRepository { ... }

// Application/
public class ProductApplicationService
{
    private readonly IProductRepository _repo; // –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Domain –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
}

// Infrastructure/
public class ProductRepository : IProductRepository { ... }
```

---

### 4. DTO (Data Transfer Object) vs Domain Entity

–î—É–∂–µ —á–∞—Å—Ç–æ –ø–ª—É—Ç–∞—é—Ç—å—Å—è. –¶–µ **—Ä—ñ–∑–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó**:

```csharp
//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DOMAIN ENTITY (–±—ñ–∑–Ω–µ—Å-–æ–±'—î–∫—Ç, —Ü–µ –≤–∞—à–∞ —Ü—ñ–Ω–Ω—ñ—Å—Ç—å)
//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
public class Product
{
    public int Id { get; private set; }
    public string Name { get; private set; }
    public decimal Price { get; private set; }
    
    public void SetPrice(decimal newPrice)
    {
        if (newPrice <= 0) throw new ArgumentException();
        Price = newPrice;
    }
}

//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// REQUEST DTO (—â–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑ UI / API)
//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
public class CreateProductRequest
{
    [Required]
    public string Name { get; set; }
    
    [Range(0.01, double.MaxValue)]
    public decimal Price { get; set; }
}

//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RESPONSE DTO (—â–æ –π–¥–µ –Ω–∞–∑–∞–¥ –≤ UI / API)
//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
public class ProductResponse
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}

//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// USE CASE / APPLICATION SERVICE
//‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
public class CreateProductUseCase
{
    private readonly IProductRepository _repo;
    
    public ProductResponse Execute(CreateProductRequest request)
    {
        // 1Ô∏è‚É£ REQUEST DTO ‚Üí DOMAIN ENTITY
        var product = new Product(request.Name, request.Price);
        
        // 2Ô∏è‚É£ DOMAIN –æ–ø–µ—Ä–∞—Ü—ñ—ó
        var saved = _repo.Save(product);
        
        // 3Ô∏è‚É£ DOMAIN ENTITY ‚Üí RESPONSE DTO
        return new ProductResponse
        {
            Id = saved.Id,
            Name = saved.Name,
            Price = saved.Price
        };
    }
}
```

**–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ?**

- ‚úÖ **–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**: Entity –Ω–µ –∑–Ω–∞—î –ø—Ä–æ HTTP, JSON, —Ñ–æ—Ä–º–∏
- ‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å API**: –º–æ–∂–Ω–∞ –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ DTO –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (CreateProduct, UpdateProduct, AdminProductView)
- ‚úÖ **–ó–∞—Ö–∏—Å—Ç –±—ñ–∑–Ω–µ—Å—É**:  Entity –∑–º—ñ–Ω—é—î—Ç—å—Å—è –¥–ª—è –±—ñ–∑–Ω–µ—Å—É, API –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ–∫—Ä–µ–º–æ
- ‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –º–æ–∂–µ—à —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ Entity –æ–∫—Ä–µ–º–æ –≤—ñ–¥ –≤–µ–±

**–ü–æ–º–∏–ª–∫–∞**: `public class Product : IHttpSerializable` –∞–±–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ Entity –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä

---

### 5. Use Cases (Clean) vs Application Services (Onion)

–¶–µ **—Ä—ñ–∑–Ω—ñ –ø–∞—Ä–∞–¥–∏–≥–º–∏**, –Ω–µ —Å–∏–Ω–æ–Ω—ñ–º–∏!

#### Clean Architecture –ø—ñ–¥—Ö—ñ–¥: Use Cases

```csharp
// ‚úÖ –û–¥–∏–Ω Use Case = –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è (CQRS spirit)
// Features/Products/Application/UseCases/CreateProduct/

public class CreateProductCommand
{
    public string Name { get; set; }
    public decimal Price { get; set; }
}

public class CreateProductResponse
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public class CreateProductUseCase
{
    private readonly IProductRepository _repo;
    
    public CreateProductResponse Execute(CreateProductCommand cmd)
    {
        var product = new Product(cmd.Name, cmd.Price);
        var saved = _repo.Save(product);
        return new CreateProductResponse { Id = saved.Id, Name = saved.Name };
    }
}

// Features/Products/Application/UseCases/GetProductById/

public class GetProductByIdQuery
{
    public int ProductId { get; set; }
}

public class GetProductByIdUseCase
{
    private readonly IProductRepository _repo;
    
    public ProductResponse Execute(GetProductByIdQuery query)
    {
        var product = _repo.GetById(query.ProductId);
        return new ProductResponse { /* ... */ };
    }
}
```

**–£ .NET —á–∞—Å—Ç–æ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ MediatR:**
```csharp
// MediatR –æ–±—Ä–æ–±–ª—è—î routing
public class CreateProductHandler : IRequestHandler<CreateProductCommand, CreateProductResponse>
{
    public Task<CreateProductResponse> Handle(CreateProductCommand request, CancellationToken cancellationToken)
    { ... }
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ Use Cases:**
- ‚úÖ Single Responsibility (–æ–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä—ñ–π ‚Äî –æ–¥–∏–Ω –∫–ª–∞—Å)
- ‚úÖ –Ø–≤–Ω—ñ Input/Output –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
- ‚úÖ –õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏
- ‚úÖ –Ø–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

---

#### Onion Architecture –ø—ñ–¥—Ö—ñ–¥: Application Services

```csharp
// ‚úÖ –û–¥–∏–Ω Service = –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –æ–¥–Ω—ñ—î—ó Entity/Aggregate
// Application/Services/

public class ProductApplicationService
{
    private readonly IProductRepository _repo;
    private readonly IProductDomainService _domainService; // Domain Service!
    
    public int Create(string name, decimal price)
    {
        var product = new Product(name, price);
        return _repo.Save(product).Id;
    }
    
    public void Update(int id, string name, decimal newPrice)
    {
        var product = _repo.GetById(id);
        
        // Domain Service –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ —Å–∫–ª–∞–¥–Ω—É –ª–æ–≥—ñ–∫—É
        _domainService.ValidateAndUpdate(product, newPrice);
        
        _repo.Save(product);
    }
    
    public void Delete(int id) => _repo.Delete(id);
    
    public Product GetById(int id) => _repo.GetById(id);
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ Application Service:**
- ‚úÖ –ë–ª–∏–∑–∫–æ –¥–æ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ–≥–æ Service Layer, –∑–Ω–∞–π–æ–º–µ –±—ñ–ª—å—à–æ—Å—Ç—ñ
- ‚úÖ –ú–µ—Ç–æ–¥–∏ –∑–≥—Ä—É–ø–æ–≤–∞–Ω—ñ –ø–æ —Ç–µ–º—ñ (—É—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ Product —Ç—É—Ç)
- ‚úÖ –ú–µ–Ω—à–µ boilerplate –ø—Ä–∏ –ø—Ä–æ—Å—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ú–µ–Ω—à explicit –ø—Ä–æ –≤—Ö—ñ–¥/–≤–∏—Ö—ñ–¥ (–º–æ–∂–Ω–∞ –∑–∞–±—É—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä)
- ‚ùå –ú–µ—Ç–æ–¥–∏ –º–æ–∂—É—Ç—å –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—Ç–∏—Å—è (God Service)

---

**–í–∞–∂–ª–∏–≤–æ**: Clean –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Use Cases**, Onion –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Application Services**. –¶–µ —Ä—ñ–∑–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è!

---

### 6. Hexagonal Architecture: Ports & Adapters

–Ü–Ω—à–∞ –ø–∞—Ä–∞–¥–∏–≥–º–∞. –ó–∞–º—ñ—Å—Ç—å "—à–∞—Ä—ñ–≤" ‚Äî **—è–¥—Ä–æ + –∞–¥–∞–ø—Ç–µ—Ä–∏**.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PORTS (Interfaces)         ‚îÇ —É —è–¥—Ä—ñ
‚îÇ  —É Domain Layer             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ —Ä–µ–∞–ª—ñ–∑—É—î
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ADAPTERS (Implementations) ‚îÇ –∑–æ–≤–Ω—ñ
‚îÇ  –õ–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏            ‚îÇ
‚îÇ  - EFCoreAdapter            ‚îÇ
‚îÇ  - MongoDbAdapter           ‚îÇ
‚îÇ  - InMemoryAdapter (—Ç–µ—Å—Ç–∏)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Port**:
```csharp
// Domain/Ports/
public interface IProductRepository // —Ü–µ PORT
{
    Task<Product> GetById(int id);
    Task<Product> Save(Product product);
}
```

**Adapters**:
```csharp
// Adapters/

public class EFCoreProductAdapter : IProductRepository // Adapter –¥–ª—è EF
{
    public Task<Product> GetById(int id) { ... }
    public Task<Product> Save(Product product) { ... }
}

public class MongoDbProductAdapter : IProductRepository // Adapter –¥–ª—è MongoDB
{
    public Task<Product> GetById(int id) { ... }
    public Task<Product> Save(Product product) { ... }
}

public class InMemoryProductAdapter : IProductRepository // Adapter –¥–ª—è —Ç–µ—Å—Ç—ñ–≤
{
    private Dictionary<int, Product> _data = new();
    public Task<Product> GetById(int id) { ... }
    public Task<Product> Save(Product product) { ... }
}
```

**–ß–∏–º —Ü–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ Clean?**

| –¶–µ–π –∞—Å–ø–µ–∫—Ç | Clean | Hexagonal |
|-----------|-------|-----------|
| –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–µ? | Application Layer | Domain Layer (Port) |
| –§–æ–∫—É—Å | –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ—ó–≤ | –ó–∞–º—ñ–Ω–Ω—ñ—Å—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ñ–≤ |
| –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è | Mock —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å | Swap Adapter (InMemory) |
| –õ–æ–≥—ñ–∫–∞ | Use Cases | Domain + Ports |

**–ü–µ—Ä–µ–≤–∞–≥–∏ Hexagonal:**
- ‚úÖ **–ê–¥–∞–ø—Ç–µ—Ä–∏ –ª–µ–≥–∫–æ –º—ñ–Ω—è—Ç–∏**: —Ç–µ—Å—Ç–∏ ‚Üí InMemory, –ø—Ä–æ–¥–∞–∫—à–Ω ‚Üí EF, –∑–∞–≤—Ç—Ä–∞ ‚Üí MongoDB
- ‚úÖ **Domain –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é** (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —ñ–∑–æ–ª—è—Ü—ñ—è)
- ‚úÖ –¥–æ–±—Ä–µ –¥–ª—è —Å–∏—Å—Ç–µ–º –∑ –º–Ω–æ–∂–∏–Ω–Ω–∏–º–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è–º–∏

---

### 7. Vertical Slice Architecture: —ñ–Ω—à–∏–π —Å–≤—ñ—Ç–æ–≥–ª—è–¥

–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ **layer-based** (—à–∞—Ä–∏), —Ü–µ **feature-based** –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è.

```
TRADITIONAL (–®–∞—Ä–∏)              VERTICAL SLICE (–§—ñ—á–∏)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ             ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
src/                            src/
‚îú‚îÄ Controllers/                 ‚îú‚îÄ Features/
‚îÇ  ‚îú‚îÄ ProductsController        ‚îÇ  ‚îú‚îÄ CreateProduct/
‚îÇ  ‚îú‚îÄ OrdersController          ‚îÇ  ‚îÇ  ‚îú‚îÄ CreateProductCommand.cs
‚îÇ  ‚îî‚îÄ CustomersController       ‚îÇ  ‚îÇ  ‚îú‚îÄ CreateProductHandler.cs
‚îÇ                               ‚îÇ  ‚îÇ  ‚îú‚îÄ CreateProductValidator.cs
‚îú‚îÄ Services/                    ‚îÇ  ‚îÇ  ‚îú‚îÄ IProductRepository.cs
‚îÇ  ‚îú‚îÄ ProductService            ‚îÇ  ‚îÇ  ‚îî‚îÄ ProductRepository.cs
‚îÇ  ‚îú‚îÄ OrderService              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ CustomerService           ‚îÇ  ‚îú‚îÄ GetProducts/
‚îÇ                               ‚îÇ  ‚îÇ  ‚îú‚îÄ GetProductsQuery.cs
‚îú‚îÄ Repositories/                ‚îÇ  ‚îÇ  ‚îú‚îÄ GetProductsHandler.cs
‚îÇ  ‚îú‚îÄ ProductRepository         ‚îÇ  ‚îÇ  ‚îî‚îÄ ProductRepository.cs
‚îÇ  ‚îú‚îÄ OrderRepository           ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ CustomerRepository        ‚îÇ  ‚îî‚îÄ UpdateProduct/
‚îÇ                               ‚îÇ     ‚îî‚îÄ ...
‚îî‚îÄ Models/
   ‚îú‚îÄ Product
   ‚îú‚îÄ Order
   ‚îî‚îÄ Customer
```

**–ü—Ä–∏–Ω—Ü–∏–ø**: –∫–æ–∂–Ω–∞ —Ñ—ñ—á–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é—î —Å–≤–æ—î –∑–∞–ª—ñ–∑–æ (Controller ‚Üí Handler ‚Üí Repository).

**–ü–µ—Ä–µ–≤–∞–≥–∏**:
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**: –∑–º—ñ–Ω–∏—Ç–∏ CreateProduct –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ GetProducts
- ‚úÖ **–®–≤–∏–¥—à–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ñ—ñ—á–∏**: —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É, –Ω–∞—Å–∏–ø–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤, –≥–æ—Ç–æ–≤–æ
- ‚úÖ **–ú–µ–Ω—à–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –ø—Ä–∏ merge**: —É—Å—ñ —Ñ–∞–π–ª–∏ —Ñ—ñ—á –≤ –æ–¥–Ω—ñ–π –ø–∞–ø—Ü—ñ
- ‚úÖ **–õ–µ–≥—à–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ñ—ñ—á—É**: –≤–∏–¥–∞–ª–∏—Ç–∏ –ø–∞–ø–∫—É, –≥–æ—Ç–æ–≤–æ

**–ù–µ–¥–æ–ª—ñ–∫–∏**:
- ‚ùå **–î—É–±–ª—é–≤–∞–Ω–Ω—è**: Repository –º–æ–∂–µ —ñ—Å–Ω—É–≤–∞—Ç–∏ –≤ –∫—ñ–ª—å–∫–æ—Ö —Å–ª–∞–π—Å–∞—Ö
- ‚ùå **–ú–µ–Ω—à–µ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—ó**: –≤–∞–∂—á–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ —Ä–µ—á—ñ
- ‚ùå **–ü–æ—Ç—Ä–µ–±—É—î –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏**: –±–µ–∑ —á—ñ—Ç–∫–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ ‚Üí —Ö–∞–æ—Å

---

### 8. –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ Dependency Injection

–Ø–∫ —É—Å–µ —Ü–µ —Å–∫—Ä—É—Ç–∏—Ç–∏ —Ä–∞–∑–æ–º?

```csharp
// Program.cs (Composition Root)

var services = new ServiceCollection();

// Domain (–Ω—ñ—á–æ–≥–æ –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å)
services.AddScoped<IProductDomainService, ProductDomainService>();

// Application (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Domain + Ports/Interfaces)
services.AddScoped<CreateProductUseCase>();
services.AddScoped<UpdateProductUseCase>();

// Infrastructure (—Ä–µ–∞–ª—ñ–∑—É—î Ports/Interfaces)
services.AddScoped<IProductRepository, EFCoreProductRepository>();
services.AddDbContext<ApplicationDbContext>();

// Presentation
services.AddControllers();

var app = services.BuildServiceProvider();
```

**DI –∑–∞–±–µ–∑–ø–µ—á—É—î Dependency Rule**: 
- ‚úÖ Application –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é Repository
- ‚úÖ –ª–µ–≥–∫–æ –ø—ñ–¥–º—ñ–Ω—è—Ç–∏ (—Ç–µ—Å—Ç–∏, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- ‚úÖ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –µ–∫—Å–ø–ª—ñ—Ü–∏—Ç–Ω—ñ

---

## ‚ö†Ô∏è –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

### 1. –ü–ª—É—Ç–∞—Ç–∏ —ñ–Ω–≤–µ—Ä—Å—ñ—é –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤
```csharp
// ‚ùå –¶–µ –Ω–µ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Ü–µ –ø—Ä–æ—Å—Ç–æ "–±—ñ–ª—å—à–µ –∫–æ–¥—É"
public interface IProductRepository { }
public class ProductRepository : IProductRepository { }
public class ProductService { private readonly IProductRepository _repo; } // –∞–ª–µ Service —É —Å–µ—Ä–µ–¥–∏–Ω—ñ, Repository –∑–æ–≤–Ω—ñ
```

### 2. –í–≤–∞–∂–∞—Ç–∏, —â–æ Clean = –æ–±–æ–≤'—è–∑–∫–æ–≤–æ Rich Domain Model
Clean —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Anemic Domain Model** –∑ –ª–æ–≥—ñ–∫–æ—é —É **Use Cases**. –¶–µ –Ω–µ –º–µ–Ω—à Clean!

### 3. –ö–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –≤–∏–ø–∞–¥–∫–æ–≤–æ
- "Vertical Slice Onion" = –ø–ª—É—Ç–∞–Ω–∏–Ω–∞ (–∞–±–æ —Å–ª–æ—ó, –∞–±–æ —Ñ—ñ—á–∏)
- "Hexagonal Clean" = –º–æ–∂–ª–∏–≤–æ, –∞–ª–µ —Ü–µ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è, –Ω–µ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- "CQRS 3-Layer" = –¥–æ–¥–∞—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –±–µ–∑ –∫–æ—Ä–∏—Å—Ç—ñ

### 4. –°—Ç–∞–≤–∏—Ç–∏ Entity = Request Body
```csharp
// ‚ùå –ó–º—ñ—à–∞–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
[HttpPost]
public void Create(Product product) // Product = Entity = DTO? –ù–µ—è—Å–Ω–æ!
```

### 5. –ó–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ DTO
```csharp
// ‚ùå –õ—ñ–∫—É—î JSON –Ω–∞–ø—Ä—è–º—É –≤ Entity
public class Product
{
    [JsonPropertyName("id")]
    public int Id { get; set; }
}
// –¢–µ–ø–µ—Ä Entity –∑–Ω–∞—î –ø—Ä–æ JSON. –¶–µ —à—É–º.
```

### 6. –ù–∞–¥—Ç–æ —Ä–∞–Ω–æ (–∞–±–æ –Ω–∞–¥—Ç–æ –ø—ñ–∑–Ω–æ) –≤–≤–æ–¥–∏—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
- **CRUD –Ω–∞ —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ñ?** –ü–æ—á–Ω—ñ—Ç—å –∑ 3-Layer. DI, Use Cases –ø–æ—Ç—ñ–º.
- **–°–∫–ª–∞–¥–Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞?** Clean —á–∏ Onion –∑ —Å–∞–º–æ–≥–æ –ø–æ—á–∞—Ç–∫—É.

### 7. –ó–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç—É
- –°—Ç–∞—Ä—Ç–∞–ø = —à–≤–∏–¥–∫—ñ—Å—Ç—å (3-Layer, –º–æ–∂–ª–∏–≤–æ Vertical Slice)
- Enterprise = —è–∫—ñ—Å—Ç—å (Clean, Onion)
- –ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å = —Ä—ñ–≤–Ω–æ–≤–∞–≥–∞ (Clean + Vertical)

---

## üìà –ï–≤–æ–ª—é—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### –•—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–∞ —à–∫–∞–ª–∞

```
   2000s          2008              2012              2020s
     |            |                  |                  |
     ‚îî‚îÄ 3-Layer   ‚îÇ                  ‚îÇ                  ‚îÇ
        (CRUD)    ‚îÇ                  ‚îÇ                  ‚îÇ
                  ‚îî‚îÄ Onion Arch.     ‚îÇ                  ‚îÇ
               (Jeffrey Palermo)    ‚îî‚îÄ Clean Arch.     ‚îÇ
                                (Robert C. Martin)     ‚îÇ
                                   (Uncle Bob)         ‚îÇ
                                                       ‚îÇ
                                    Hexagonal Arch.    ‚îÇ
                                   (2005, Alistair    ‚îÇ
                                    Cockburn)          ‚îÇ
                                                ‚îÇ
                                                ‚îî‚îÄ Vertical Slice
                                                  (Jimmy Bogard, 
                                                   Kamil Grzybek)
```

### –í—ñ–¥–Ω–æ—Å–∏–Ω–∏ –º—ñ–∂ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞–º–∏

```
3-Layer (1990s-2000s) 
  ‚îÇ
  ‚îî‚îÄ‚îÄ‚Üí Clean Architecture (2012)
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚Üí –†–∞–∑–æ–º –∑: Hexagonal (2005), Onion (2008)
         ‚îÇ    —É—Ç–≤–æ—Ä—é—é—Ç—å modern –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏
         ‚îÇ
         ‚îî‚îÄ‚îÄ‚Üí Vertical Slice (2020s)
                  (–≤—ñ–¥—Ö—ñ–¥ –≤—ñ–¥ —à–∞—Ä—ñ–≤ –Ω–∞ –∫–æ—Ä–∏—Å—Ç—å —Ñ—ñ—á)
```

### –í—ñ–¥ Onion –¥–æ Clean: –µ–≤–æ–ª—é—Ü—ñ—è —ñ–¥–µ–π

**Onion Architecture (2008)** ‚Äî Jeffrey Palermo
- –í–≤—ñ–≤ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∏—Ö —à–∞—Ä—ñ–≤
- Domain –≤ —Ü–µ–Ω—Ç—Ä—ñ, –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤–∫–∞–∑—É—é—Ç—å –≤—Å–µ—Ä–µ–¥–∏–Ω—É
- –Ø–≤–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è Domain Services

**Clean Architecture (2012)** ‚Äî Robert C. Martin (Uncle Bob)
- –†–æ–∑–≤–∏–Ω—É–≤ —ñ–¥–µ—ó Onion, –∞–ª–µ –∑ —ñ–Ω—à–∏–º —Ñ–æ–∫—É—Å–æ–º
- –ú–µ–Ω—à–µ –ø—Ä–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —à–∞—Ä—ñ–≤, –±—ñ–ª—å—à–µ –ø—Ä–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Application –º–æ–∂–µ –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —à–∞—Ä–∏
- Clean –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ **—Ç–∏—Ö –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö**, —â–æ –π Onion:
  - ‚úÖ Domain –≤ —Ü–µ–Ω—Ç—Ä—ñ
  - ‚úÖ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤–∫–∞–∑—É—é—Ç—å –≤—Å–µ—Ä–µ–¥–∏–Ω—É
  - ‚úÖ –ù–∏–∑—å–∫–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤
  - ‚úÖ –í–∏—Å–æ–∫–∞ —Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å

**–ö–ª—é—á–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è**: 
- **Onion** –≥–æ–≤–æ—Ä–∏—Ç—å "–æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ 4-5 —è–≤–Ω–∏—Ö —à–∞—Ä—ñ–≤"
- **Clean** –≥–æ–≤–æ—Ä–∏—Ç—å "–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –≤ –æ–¥–∏–Ω —Ü–µ–Ω—Ç—Ä, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ –ø–æ—Ç—Ä–µ–±"

**–í–∏—Å–Ω–æ–≤–æ–∫**: Clean Architecture –Ω–µ —î –ø—Ä—è–º–æ—é –µ–≤–æ–ª—é—Ü—ñ—î—é Onion, –∞–ª–µ –≤–æ–Ω–∏ ‚Äî  **—Å–µ—Å—Ç—Ä–∏–Ω—Å—å–∫—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏**, –∑–∞—Å–Ω–æ–≤–∞–Ω—ñ –Ω–∞ –æ–¥–Ω–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö. Clean –±—ñ–ª—å—à–µ –ø—Ä–æ —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—é –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, Onion –±—ñ–ª—å—à–µ –ø—Ä–æ —á—ñ—Ç–∫—ñ—Å—Ç—å —à–∞—Ä—ñ–≤.

### –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞

–ë–∞–≥–∞—Ç–æ –ø—Ä–æ–µ–∫—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –≥—ñ–±—Ä–∏–¥–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:
- **–ü–æ—á–∞—Ç–æ–∫**: 3-Layer (—à–≤–∏–¥–∫–æ –π –ø—Ä–æ—Å—Ç–æ)
- **–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è**: Clean + –¥–µ—è–∫—ñ —ñ–¥–µ—ó –∑ Onion (–±–∞–ª–∞–Ω—Å)
- **–°–∫–ª–∞–¥–Ω–∏–π –¥–æ–º–µ–Ω**: Onion + DDD (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —á–∏—Å—Ç–æ—Ç–∞)
- **–ß–∞—Å—Ç–æ–≤—ñ —Ñ—ñ—á**: Vertical Slice (—à–≤–∏–¥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è)

---

## üß™ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∏

–ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –ø—Ä–æ–µ–∫—Ç —É –æ–∫—Ä–µ–º–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ. –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É Swagger –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é, —è–∫—É –ø–æ–∫–∞–∂–µ –≤–∏–≤—ñ–¥ `dotnet run` (–∑–∞–∑–≤–∏—á–∞–π https://localhost:5001 –∞–±–æ —ñ–Ω—à–∏–π –≤—ñ–ª—å–Ω–∏–π –ø–æ—Ä—Ç).

### 1. 3-Layer Architecture
```powershell
cd "3-Layer-Architecture"
dotnet restore
dotnet run
```

### 2. Clean Architecture
```powershell
cd "Clean-Architecture\CleanArchitecture.API"
dotnet restore
dotnet run
```

### 3. Onion Architecture
```powershell
cd "Onion-Architecture\OnionArchitecture.API"
dotnet restore
dotnet run
```

### 4. Hexagonal Architecture
```powershell
cd "Hexagonal-Architecture\Hexagonal.API"
dotnet restore
dotnet run
```

### 5. Vertical Slice
```powershell
cd "Vertical-Slice\VerticalSlice.API"
dotnet restore
dotnet run
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ Swagger UI –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø—É—â–µ–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É –∑–∞ –∞–¥—Ä–µ—Å–æ—é, —è–∫—É –≤–∏–≤–µ–¥–µ `dotnet run` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `https://localhost:5001/swagger`).

---

## üìù –©–æ –≤–∏–≤—á–∏—Ç–∏ –¥–∞–ª—ñ?

1. **CQRS** (Command Query Responsibility Segregation) - —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø–∏—Å—É
2. **Event Sourcing** - –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ–¥—ñ–π –∑–∞–º—ñ—Å—Ç—å —Å—Ç–∞–Ω—É
3. **Domain-Driven Design (DDD)** - –ø—ñ–¥—Ö—ñ–¥ –¥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤
4. **Microservices** - —Ä–æ–∑–±–∏—Ç—Ç—è –Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏
5. **Vertical Slice Architecture** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–¥—É

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

### –ö–Ω–∏–≥–∏
- **"Clean Architecture"** - Robert C. Martin
- **"Domain-Driven Design"** - Eric Evans
- **"Implementing Domain-Driven Design"** - Vaughn Vernon

### –°—Ç–∞—Ç—Ç—ñ
- [The Onion Architecture](https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/) - Jeffrey Palermo
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html) - Uncle Bob

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–∫–∏

| –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ... | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ |
|---------------------|----------------|
| –®–≤–∏–¥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ MVP | 3-Layer |
| –ë–∞–ª–∞–Ω—Å –º—ñ–∂ –ø—Ä–æ—Å—Ç–æ—Ç–æ—é —Ç–∞ —è–∫—ñ—Å—Ç—é | Clean |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —á–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥—É | Onion |
| –ü—Ä–æ—Å—Ç–∏–π CRUD | 3-Layer |
| –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç | Clean –∞–±–æ Onion |
| DDD –ø—ñ–¥—Ö—ñ–¥ | Onion |

**–ó–æ–ª–æ—Ç–µ –ø—Ä–∞–≤–∏–ª–æ**: –ü–æ—á–Ω—ñ—Ç—å –∑ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è, —â–æ –≤–∏—Ä—ñ—à—É—î –≤–∞—à—É –∑–∞–¥–∞—á—É. –£—Å–∫–ª–∞–¥–Ω—é–π—Ç–µ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ —Ü–µ –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

---

## ü§ù –ü–æ—Ä–∞–¥–∏

1. **–ù–µ over-engineer**: –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Onion –¥–ª—è TODO —Å–ø–∏—Å–∫—É
2. **–î—É–º–∞–π—Ç–µ –ø—Ä–æ –º–∞–π–±—É—Ç–Ω—î**: –Ø–∫—â–æ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ —Ä–æ—Å—Ç–∏, –∫—Ä–∞—â–µ –æ–¥—Ä–∞–∑—É Clean
3. **–ö–æ–º–∞–Ω–¥–∞ –≤–∞–∂–ª–∏–≤–∞**: –°–∫–ª–∞–¥–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –¥–æ—Å–≤—ñ–¥—á–µ–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏
4. **–¢–µ—Å—Ç—É–π—Ç–µ**: –í—Å—ñ —Ç—Ä–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏, –∞–ª–µ Clean/Onion - –∫—Ä–∞—â–µ
5. **–î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ**: –û—Å–æ–±–ª–∏–≤–æ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è Clean/Onion

–£–¥–∞—á—ñ —É –≤–∏–±–æ—Ä—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏! üöÄ
