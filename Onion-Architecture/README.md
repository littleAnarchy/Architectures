# Onion Architecture (ะฆะธะฑัะปะธะฝะฝะฐ ะฐััััะตะบัััะฐ)

## ะะฟะธั
Onion Architecture - ัะต ะฐััััะตะบัััะฝะธะน ะฟะฐััะตัะฝ, ะทะฐะฟัะพะฟะพะฝะพะฒะฐะฝะธะน Jeffrey Palermo. ะััััะตะบัััะฐ ะพัะณะฐะฝัะทะพะฒะฐะฝะฐ ะฒ ะบะพะฝัะตะฝััะธัะฝั ัะฐัะธ (ัะบ ัะธะฑัะปั), ะดะต ะทะฐะปะตะถะฝะพััั ัะฟััะผะพะฒะฐะฝั ะดะพ ัะตะฝััั.

## ะกัััะบัััะฐ ัะฐััะฒ (ะฒัะด ัะตะฝััั ะดะพ ะทะพะฒะฝััะฝัั)

### ๐ต Ring 1: Domain Model (ะฏะดัะพ)
- **ะัะพะตะบั**: `OnionArchitecture.Domain/Entities`
- **ะัะดะฟะพะฒัะดะฐะปัะฝัััั**: ะัะทะฝะตั-ัััะฝะพััั ะท ะฑัะทะฝะตั-ะปะพะณัะบะพั
- **ะะฐะปะตะถะฝะพััั**: ะะะะะ

### ๐ข Ring 2: Domain Services
- **ะัะพะตะบั**: `OnionArchitecture.Domain/Services`
- **ะัะดะฟะพะฒัะดะฐะปัะฝัััั**: ะัะทะฝะตั-ะปะพะณัะบะฐ, ัะพ ะบะพะพัะดะธะฝัั ัััะฝะพััั
- **ะะฐะปะตะถะฝะพััั**: โ Domain Model

### ๐ก Ring 3: Application Services
- **ะัะพะตะบั**: `OnionArchitecture.Application`
- **ะัะดะฟะพะฒัะดะฐะปัะฝัััั**: Use cases, ะพัะบะตัััะฐััั Domain Services
- **ะะฐะปะตะถะฝะพััั**: โ Domain Services โ Domain Model

### ๐ด Ring 4: Infrastructure (ะะพะฒะฝััะฝัะน ัะฐั)
- **ะัะพะตะบั**: `OnionArchitecture.Infrastructure`
- **ะัะดะฟะพะฒัะดะฐะปัะฝัััั**: ะะตะฐะปัะทะฐััั ัะตะฟะพะทะธัะพัััะฒ, ะดะพัััะฟ ะดะพ ะะ, ะทะพะฒะฝััะฝั ัะตัะฒััะธ
- **ะะฐะปะตะถะฝะพััั**: โ Application (ัะตัะตะท ัะฝัะตััะตะนัะธ) โ Domain

### ๐ฃ Ring 5: Presentation (ะะฐะนะทะพะฒะฝััะฝััะธะน)
- **ะัะพะตะบั**: `OnionArchitecture.API`
- **ะัะดะฟะพะฒัะดะฐะปัะฝัััั**: UI, Controllers, HTTP
- **ะะฐะปะตะถะฝะพััั**: โ Application, Infrastructure

## ะัะทัะฐะปัะทะฐััั
```
        โโโโโโโโโโโโโโโโโโโโโโโโ
        โ   Presentation/API   โ  Ring 5
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ   Infrastructure     โ  Ring 4
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ Application Services โ  Ring 3
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ   Domain Services    โ  Ring 2
        โโโโโโโโโโโโฌโโโโโโโโโโโโ
                   โ
        โโโโโโโโโโโโผโโโโโโโโโโโโ
        โ    Domain Model      โ  Ring 1 (Core)
        โโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะะปััะพะฒั ะฟัะธะฝัะธะฟะธ

### 1. **Coupling Direction (ะะฐะฟััะผะพะบ ะทะฐะปะตะถะฝะพััะตะน)**
ะะฐะปะตะถะฝะพััั ะทะฐะฒะถะดะธ ัะฟััะผะพะฒะฐะฝั ะดะพ ัะตะฝััั. ะะพะฒะฝััะฝั ัะฐัะธ ะทะฝะฐััั ะฟัะพ ะฒะฝัััััะฝั, ะฐะปะต ะะ ะฝะฐะฒะฟะฐะบะธ.

### 2. **ะะฝะฒะตัััั ะทะฐะปะตะถะฝะพััะตะน**
ะะฝัะตััะตะนัะธ ะฒะธะทะฝะฐัะฐััััั ะฒ Domain/Application, ะฐ ัะตะฐะปัะทะฐััั - ะฒ Infrastructure.

### 3. **Domain Services vs Application Services**
- **Domain Services**: ะฑัะทะฝะตั-ะปะพะณัะบะฐ ะฟัะตะดะผะตัะฝะพั ะพะฑะปะฐััั
- **Application Services**: ะพัะบะตัััะฐััั use cases

## ะัะดะผัะฝะฝะพััั ะฒัะด Clean Architecture

| ะัะฟะตะบั | Onion | Clean |
|--------|-------|-------|
| **Repository Interface** | ะ Domain | ะ Application |
| **Domain Services** | ะะธะดัะปะตะฝะธะน ัะฐั | ะงะฐััะธะฝะฐ Domain |
| **Emphasis** | ะจะฐัะธ ัะบ ะบัะปััั | Use Cases ัะบ ัะตะฝัั |
| **ะกัััะบัััะฐ** | 4-5 ะบะพะฝัะตะฝััะธัะฝะธั ัะฐััะฒ | 4 ะบะฒะฐะดัะฐะฝัะธ |

## ะะตัะตะฒะฐะณะธ
โ ะงััะบะฐ ะพัะณะฐะฝัะทะฐััั ะฒ ัะฐัะธ  
โ Domain ะฟะพะฒะฝัััั ัะทะพะปัะพะฒะฐะฝะธะน  
โ ะฏะฒะฝะต ะฒะธะดัะปะตะฝะฝั Domain Services  
โ ะะตะณะบะพ ะทัะพะทัะผััะธ ะฟะพััะบ ะทะฐะปะตะถะฝะพััะตะน  
โ ะะธัะพะบะฐ ัะตััะพะฒะฐะฝัััั  
โ ะัะดะผัะฝะฝะฐ ะดะปั DDD (Domain-Driven Design)  

## ะะตะดะพะปัะบะธ
โ ะัะปััะต ัะฐััะฒ = ะฑัะปััะต ัะบะปะฐะดะฝะพััั  
โ ะะพะถะต ะฑััะธ ะฝะฐะดะผััะฝะพั ะดะปั ะฟัะพััะธั ะฟัะพะตะบััะฒ  
โ ะะพััะตะฑัั ะดะธััะธะฟะปัะฝะธ ะบะพะผะฐะฝะดะธ  
โ ะัะปััะต boilerplate ะบะพะดั  

## ะะพะปะธ ะฒะธะบะพัะธััะพะฒัะฒะฐัะธ
- ะกะบะปะฐะดะฝะฐ ะฑัะทะฝะตั-ะปะพะณัะบะฐ
- Domain-Driven Design (DDD) ะฟัะพะตะบัะธ
- ะะตะปะธะบั enterprise ัะธััะตะผะธ
- ะะพะปะธ ะฟะพัััะฑะฝะพ ัััะบะต ัะพะทะดัะปะตะฝะฝั ะฒัะดะฟะพะฒัะดะฐะปัะฝะพััะตะน
- ะะพะผะฐะฝะดะธ, ัะพ ะฟัะฐะบัะธะบัััั DDD

## ะัะดะผัะฝะฝัััั ะฒัะด 3-Layer
ะฃ 3-Layer ะทะฐะปะตะถะฝะพััั ะนะดััั ะทะฒะตััั ะฒะฝะธะท ะปัะฝัะนะฝะพ:
```
Presentation โ Business โ Data
```

ะ Onion ะทะฐะปะตะถะฝะพััั ะนะดััั ะดะพ ัะตะฝััั:
```
Infrastructure/API โ Application โ Domain Services โ Domain Model
```

## ะะฐะฟััะบ
```bash
cd Onion-Architecture/OnionArchitecture.API
dotnet run
```

Swagger UI: https://localhost:5001/swagger

## ะัะธะบะปะฐะดะธ ะตะฝะดะฟะพัะฝััะฒ
- `GET /api/products` - ะพััะธะผะฐัะธ ะฒัั ะฟัะพะดัะบัะธ
- `GET /api/products/{id}` - ะพััะธะผะฐัะธ ะฟัะพะดัะบั ะทะฐ ID
- `POST /api/products` - ััะฒะพัะธัะธ ะฟัะพะดัะบั
- `PUT /api/products/{id}` - ะพะฝะพะฒะธัะธ ะฟัะพะดัะบั
- `DELETE /api/products/{id}` - ะฒะธะดะฐะปะธัะธ ะฟัะพะดัะบั
- `POST /api/products/{id}/reduce-stock` - ะทะผะตะฝัะธัะธ ะทะฐะฟะฐัะธ (ะดะตะผะพะฝััััั Domain logic)
